<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">/*
 * gradient.js
 */

tm.graphics = tm.graphics || {};

(function() {
    
    tm.graphics.Canvas.prototype.setGradient = function(gradient) {
        this.context.fillStyle = gradient.gradient;
    };
    
})();

(function() {
    
<span id='tm-graphics-LinearGradient'>    /**
</span>     * @class
     * 線形グラデーション
     */
    tm.graphics.LinearGradient = tm.createClass({
        
        init: function(x, y, width, height) {
            if (!dummyCanvas) {
                dummyCanvas = document.createElement(&quot;canvas&quot;);
                dummyContext= dummyCanvas.getContext(&quot;2d&quot;);
            }
            this._init(x, y, width, height);
            this.init = this._init;
        },

        _init: function(x, y, width, height) {
            this.gradient = dummyContext.createLinearGradient(x, y, width, height);
        },
        
        addColorStop: function(offset, color) {
            this.gradient.addColorStop(offset, color);
            return this;
        },
        
        addColorStopList: function(prop) {
            for (var i=0,len=prop.length; i&lt;len; ++i) {
                var offset  = prop[i].offset;
                var color   = prop[i].color;
                this.addColorStop(offset, color);
            }
            return this;
        },
        
        toStyle: function() {
            return this.gradient;
        },
        
    });

    
<span id='tm-graphics-RadialGradient'>    /**
</span>     * @class
     * 円形グラデーション
     */
    tm.graphics.RadialGradient = tm.createClass({

        
        init: function(x0, y0, r0, x1, y1, r1) {
            if (!dummyCanvas) {
                dummyCanvas = document.createElement(&quot;canvas&quot;);
                dummyContext= dummyCanvas.getContext(&quot;2d&quot;);
            }
            this._init(x0, y0, r0, x1, y1, r1);
            this.init = this._init;
        },

        _init: function(x0, y0, r0, x1, y1, r1) {
            this.gradient = dummyContext.createRadialGradient(x0, y0, r0, x1, y1, r1);
        },
        
        addColorStop: function(offset, color) {
            this.gradient.addColorStop(offset, color);
            return this;
        },
        
        addColorStopList: function(prop) {
            for (var i=0,len=prop.length; i&lt;len; ++i) {
                var offset  = prop[i].offset;
                var color   = prop[i].color;
                this.addColorStop(offset, color);
            }
            return this;
        },
        
        toStyle: function() {
            return this.gradient;
        },
        
    });


    
    var dummyCanvas = null;
    var dummyContext = null;
    
})();















</pre>
</body>
</html>

<!DOCTYPE html> 
<html lang="ja"> 
    <head> 
        <meta charset="utf-8"> 
        <title>Script Test | tmlib.js</title>
        
        
        <!-- prettify -->
        <link type="text/css" rel="stylesheet" href="../../plugins/prettify/prettify.css" />
        <script src="../../plugins/prettify/prettify.js"></script>
        
        
        <style>
            body { font-family: "Meiryo", "メイリオ", "ヒラギノ角ゴ Pro W3", sans-serif; }
            
            #content {
                display: -webkit-box;
                display: -moz-box;
                display: -o-box;
                display: box;
            }
            
            #content>* {
                padding: 10px 20px;
                width: 50%;
                -webkit-box-sizing: border-box;
                -moz-box-sizing: border-box;
                -o-box-sizing: border-box;
                box-sizing: border-box;
            }
            
            canvas {
                box-shadow: 0px 0px 4px 0px #aaa;
            }
            
        </style>
        
        <script src="../../src/tmlib.js"></script>
        
        <script src="../../src/core/object.js"></script>
        <script src="../../src/core/string.js"></script>
        <script src="../../src/core/number.js"></script>
        <script src="../../src/core/array.js"></script>
        <script src="../../src/core/function.js"></script>
        <script src="../../src/core/date.js"></script>
        <script src="../../src/core/math.js"></script>
        
        <script src="../../src/dom/element.js"></script>
        <script src="../../src/dom/event.js"></script>
        
        <script src="../../src/util/script.js"></script>
        
        <script src="../../plugins/console.tm.js"></script>
        
        <script id="test-script">
            
            /*
             * preload
             */
            tm.preload(function() {
                tm.util.ScriptManager.load("sample.js", function() {
                    console.log("b");
                });
                tm.util.ScriptManager.loadStats();
                tm.util.ScriptManager.loadDatGUI();
                tm.util.ScriptManager.loadThree();
            });

            /*
             * main
             */
            tm.main(function() {
                // stats
                var stats = new Stats();
                stats.setMode(0); // 0: fps, 1: ms
                stats.domElement.style.position = "absolute";
                stats.domElement.style.left     = "0px";
                stats.domElement.style.top      = "0px";
                document.body.appendChild(stats.domElement);
                setInterval(function() {
                    stats.begin();

                    // your code goes here
//                    obj.noiseStrength+=0.1;

                    stats.end();
                }, 1000/60);

                // gui
                var gui = new dat.GUI();
                var obj = {
                    "message": "hoge",
                    "noiseStrength": 0,
                };
                gui.add(obj, "message");
                gui.add(obj, 'noiseStrength', 0, 100).listen();
            });
            
        </script>
        
        <script>
            tm.dom.Element(window).event.add("load", function() {
                tm.dom.Element("#code").text = tm.dom.Element("#test-script").text;
                prettyPrint();
            });
        </script>
    </head>
    
    <body>
         
        <h1>Script Test | TM Lib</h1>
        
        <div id="content">
            <section>
                <h2>Console</h2>
                <pre id="console" class="prettyprint"></pre>
            </section>
            <section>
                <h2>Code</h2>
                <pre id="code" class="prettyprint"></pre>
            </section>
        </div>
        
        
    </body>
</html>
